#This File is part of the Agender Project, 100% free  software
#you are free to modify it to build packages for your distro, patches are welcome :-)
#File: Agender.spec.in
#Created:01-abr-2010
#Author: Gabriel Espinoza
#License: GPLv3+
#Copyright: Copyright (C) 2010 Gabriel Espinoza
#Modified:
#
#If you're reading the file Agender.spec don't edit it
#it will be overwrited by configure, edit Agender.spec.in
#
#this file was tested in the opeSUSE Build Service
#

%if 0%{?suse_version}
	%define dist .suse
%endif

Summary: A cross-platform schedule tool!
Name: Agender
Packager: Gabriel Espinoza <virtuosonic@users.sourceforge.net>
Version: @VERSION@
Release: 1%{dist}
License: GPLv3+
Group: Applications/Office/Calendar
Source: %{name}-%{version}.tar.bz2
Icon: %{name}.xpm
URL: http://agender.sourceforge.net/
Requires: wxGTK >= 2.8.0
BuildRequires: wxGTK-devel >= 2.8.0,make,gcc-c++
Prefix: %{_prefix}
%if 0%{?suse_version}
BuildRequires: update-desktop-files,gettext-runtime
BuildRoot: %{_tmppath}/%{name}-%{version}-build
%endif

%description
Agender is a small cross-platform schedule tool where you associate some notes
with a date or with no date in particular if  you mark the note as sticky, you
simply start it  and it will create a task-bar icon and stay in the background,
without annoying you,it can also be configured to run on login, on desktops
that support freedesktop.org, Fluxbox and IceWM

%prep
%setup -q

%build
	%configure --prefix=%{_prefix} --with-wx-config=%{_bindir}/wx-config
	%{__make} %{?_smp_mflags}

%install
	%{__make} DESTDIR="$RPM_BUILD_ROOT" install
	%find_lang %{name}
	%if 0%{?suse_version}
		%suse_update_desktop_file %{name}
	%endif

%clean
	%{__rm} -rf "$RPM_BUILD_ROOT"
#menu magic for mandriva
%if 0%{?mdkversion}
%post
	%update_menus
%postun
	%clean_menus
%endif

%files -f %{name}.lang
	%defattr (-, root, root, -)
	#documentation
	%doc Readme.txt
	%doc gpl-3.0.txt
	#the  executable
	%{_bindir}/Agender
	#shortcut
	%{_datadir}/applications/Agender.desktop
	%{_datadir}/pixmaps/Agender.png
